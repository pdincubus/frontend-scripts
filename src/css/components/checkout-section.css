.checkout-section {
    padding: var(--space) var(--space) 0;
}

.checkout-section:not(:last-of-type, .is_active) {
    position: relative;
    padding-block-end: var(--space);

    &::before {
        content: '';
        inline-size: 2px;
        block-size: calc(100% - 42px);
        position: absolute;
        inset-block-start: 48px;
        inset-inline-start: 28px;
        translate: -50% 0;
        background-color: var(--border-secondary);
    }
}

.checkout-section.is_complete:not(:last-child) {
    &::before {
        background-color: var(--border-success);
    }
}

.checkout-section .section-number {
    border-radius: var(--br-l);
    font-size: var(--fs);
    text-align: center;
    inline-size: 24px;
    block-size: 24px;
    display: grid;
    place-content: center;
    font-weight: var(--fw-medium);
    border: 2px solid var(--border-secondary);
    background-color: var(--border-secondary);
}

.checkout-section.is_active .section-number {
    border-color: var(--border-success);
    background-color: var(--surface-primary);
}

.checkout-section.is_complete .section-number {
    border-color: var(--border-success);
    background-color: var(--surface-success);
    text-indent: 110%;
    white-space: nowrap;
    overflow: hidden;
    display: block;
    background-image: url("/img/icons/check.svg");
    background-position: 50% 50%;
    background-repeat: no-repeat;
    background-size: 16px auto;
}

.checkout-section .section-name {
    display: inline-flex;
    gap: var(--space-s);
    font-size: var(--fs-2xl);
    line-height: 24px;
    margin-block-end: var(--space-s);
}

.checkout-section .section-fields,
.checkout-section .current-values {
    padding-inline: 36px 0;
    position: relative;
    border: 0;
    margin: 0;
}

.checkout-section .section-fields {
    padding-block: var(--space-s) calc(var(--space-s) * 2);
}

.checkout-section .current-values {
    padding-block: var(--space-s) 0;
    max-inline-size: 400px;
}

.checkout-section .current-values p:has(+ p) {
    margin-block-end: var(--space-s);
}

.checkout-section .section-fields::before {
    content: '';
    inline-size: 2px;
    position: absolute;
    inset-block: 0;
    inset-inline-start: 12px;
    translate: -50% 0;
    background-color: var(--border-secondary);
}

.checkout-section:not(.is_complete) summary {
    font-weight: var(--fw-medium);
    font-size: var(--fs-l);
    line-height: var(--lh-s);
    padding-block: var(--space);
    border-block-start: 1px solid var(--border-secondary);
    position: relative;
}

/* stylelint-disable */
.checkout-section summary::marker {
    display: block;
    content: '';
}
/* stylelint-enable */

.checkout-section summary::after {
    display: block;
    content: '';
    position: absolute;
    inline-size: 16px;
    block-size: 16px;
    background-size: 16px auto;
    background-repeat: no-repeat;
    background-position: 100% 50%;
    background-image: url("/img/icons/chevron-down.svg");
    transition: var(--transition-s) rotate ease;
    inset-inline-end: var(--space);
    inset-block-start: calc(var(--space) + 2px);
}

.checkout-section[open] summary::after,
.promo-code[open] summary::after {
    rotate: 180deg;
}

/* stylelint-disable */
.checkout-section::details-content,
.promo-code::details-content {
    transition: block-size var(--transition-s) ease, content-visibility var(--transition-s) ease allow-discrete;
    block-size: 0;
    overflow: clip;
}

.checkout-section[open]::details-content,
.promo-code[open]::details-content {
    block-size: auto;
}
/* stylelint-enable */

.applied-promos:not(:empty) {
    padding-block: var(--space);
}